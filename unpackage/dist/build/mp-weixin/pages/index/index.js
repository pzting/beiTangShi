(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"0cae":function(t,e,r){"use strict";r.r(e);var o=r("c236"),n=r("90cd");for(var i in n)["default"].indexOf(i)<0&&function(t){r.d(e,t,(function(){return n[t]}))}(i);r("6824");var s=r("f0c5"),u=Object(s["a"])(n["default"],o["b"],o["c"],!1,null,"bd778222",null,!1,o["a"],void 0);e["default"]=u.exports},2992:function(t,e,r){"use strict";(function(t,e){var o=r("4ea4");r("1f7d");o(r("66fd"));var n=o(r("0cae"));t.__webpack_require_UNI_MP_PLUGIN__=r,e(n.default)}).call(this,r("bc2e")["default"],r("543d")["createPage"])},"3c74":function(t,e,r){},6824:function(t,e,r){"use strict";var o=r("3c74"),n=r.n(o);n.a},"90cd":function(t,e,r){"use strict";r.r(e);var o=r("dab6"),n=r.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){r.d(e,t,(function(){return o[t]}))}(i);e["default"]=n.a},c236:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"c",(function(){return i})),r.d(e,"a",(function(){return o}));var o={uAlert:function(){return Promise.all([r.e("common/vendor"),r.e("uni_modules/uview-ui/components/u-alert/u-alert")]).then(r.bind(null,"6a60"))},uButton:function(){return Promise.all([r.e("common/vendor"),r.e("uni_modules/uview-ui/components/u-button/u-button")]).then(r.bind(null,"e983"))},uCountDown:function(){return Promise.all([r.e("common/vendor"),r.e("uni_modules/uview-ui/components/u-count-down/u-count-down")]).then(r.bind(null,"3380"))}},n=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.isTitle=!0},t.e1=function(e){t.isAuthor=!0},t.e2=function(e,r,o){var n=arguments[arguments.length-1].currentTarget.dataset,i=n.eventParams||n["event-params"];r=i.row,o=i.ind;t.focus=r+"-"+o})},i=[]},dab6:function(t,e,r){"use strict";(function(t){var o=r("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r("9523")),i=o(r("448a")),s=r("14fc");function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){(0,n.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var h={components:{},data:function(){return{Data:s.Data,time:12e4,type:"pause",isTitle:!1,isAuthor:!1,isOver:!1,isSetWord:!1,poem:{},arrEmpty:[],poemShuffle:[],poemWordCorrect:[],poemWordWrite:[],poemWordWriteCla:[],poemWordShuffle:[],poemWordShuffleCla:[],poemWordError:[],result:{len:"-"},word:"",wordLen:0,focus:"0-0",count:5,value:2,timeData:{},title:"规则",description:"规定时间内点击下面文字将唐诗补充完整"}},onLoad:function(){this.init()},onReady:function(){},onShow:function(){},watch:{type:function(t,e){"over"==t&&this.addResult()}},methods:{init:function(){this.isTitle=!1,this.isAuthor=!1;var t=this.shufflePoem();this.poem=s.Data.poem[t];var e=this.poem.poemWord,r=this.setArr(e),o=r.arr,n=r.arrEmpty,i=r.arrError,u=r.arrCla;this.arrEmpty=this.deepClone2DArray(n),this.poemWordCorrect=o,this.poemWordWrite=this.deepClone2DArray(n),this.poemWordError=i,this.poemWordWriteCla=u,this.shuffleWord()},shufflePoem:function(){var e=t.$u.random(0,s.Data.poem.length-1);this.poemShuffle.length==s.Data.poem.length&&(this.poemShuffle=[]);while(1){if(!this.poemShuffle.includes(e))break;e=t.$u.random(0,s.Data.poem.length-1)}return this.poemShuffle.push(e),e},deepClone2DArray:function(t){return t.map((function(t){return(0,i.default)(t)}))},shuffleWord:function(){this.poemWordWrite=this.deepClone2DArray(this.arrEmpty),this.focus="0-0";var t=this.poemWordCorrect+"";t=t.split(","),t=t.filter((function(t){return"，"!=t})),this.poemWordShuffle=this.shuffleArray(t),this.poemWordShuffleCla=new Array(this.poemWordShuffle.length).fill(!1)},shuffleArray:function(t){for(var e=t.length-1;e>0;e--){var r=Math.floor(Math.random()*(e+1)),o=[t[r],t[e]];t[e]=o[0],t[r]=o[1]}return t},setArr:function(t){var e=[],r=[],o=[],n=[];t=t.replace(/\s/g,"");var i=t.match(/。/g).length;this.result={},this.result.wordLen=t.match(/([^。，])/g).length;for(var s=0;s<i;s++)e.push([]),r.push([]),o.push([]),n.push([]);for(var u=0,a=0;a<t.length;a++){var h=t[a];"，"==h||","==h?(e[u].push(h),r[u].push(h),o[u].push(""),n[u].push(!1)):"。"==h||"."==h?u++:(h&&e[u].push(h),h&&r[u].push(""),h&&o[u].push(""),h&&n[u].push(!1))}return{arr:e,arrEmpty:r,arrError:o,arrCla:n}},setPoem:function(t,e){if(!this.poemWordShuffleCla[e])if(this.isSetWord)this.isSetWord=!0;else{var r=this.poemWordShuffleCla.filter((function(t){return!t}));if(r.length<=2)"over"!=this.type&&(this.pause(),this.type="over");else{var o=this.focus.split("-"),n=Number(o[0]),i=Number(o[1]),s=n,u=i,h=this.poemWordCorrect[0].length;if(n!=this.poemWordCorrect.length-1||(i==h-1&&"over"!=this.type&&(this.pause(),this.type="over"),i!=h)){this.isOver=!1,this.poemWordShuffleCla[e]=!0,this.poemWordWrite[s][u]=t,this.poemWordCorrect[s][u]!=this.poemWordWrite[s][u]?(this.poemWordWriteCla[s][u]=!0,this.poemWordError[s][u]={word:this.poemWordCorrect[s][u],wordError:t,ind:this.focus}):(this.poemWordWriteCla[s][u]=!1,this.poemWordError[s][u]="");var f=this.poemWordError.flat(2);f=f.filter((function(t){return t})).map((function(t){return t.word}));var c=this.poemWordError.flat(2);c=c.filter((function(t){return t})).map((function(t){return t.wordError})),this.result=a(a({},this.result),{},{word:f,len:c.length,wordError:c}),i<h&&(i+=1,","!=this.poemWordCorrect[n][i]&&"，"!=this.poemWordCorrect[n][i]||(i+=1)),i==h&&n<this.poemWordCorrect.length-1&&(n+=1,i=0),this.focus=n+"-"+i,this.isSetWord=!1}}}},start:function(){this.$refs.countDown.start(),this.type="start"},pause:function(){this.$refs.countDown.pause(),this.type="pause"},reset:function(){this.$refs.countDown.reset(),this.result={wordLen:this.result.wordLen},this.start(),this.shuffleWord()},changeOne:function(){this.$refs.countDown.reset(),this.init(),this.start()},onChange:function(t){this.timeData=t},onFinish:function(){this.type="over"},addResult:function(){var e=t.getStorageSync("dataResult"),r=s.Data.poem.length,o=0,n=0,i=0;e&&(o=Number(e.write),n=Number(e.success),i=Number(e.error)),0==this.result.len&&(n+=1),o+=1,i=o-n,t.setStorageSync("dataResult",{all:r,write:o,success:n,error:i})}}};e.default=h}).call(this,r("543d")["default"])}},[["2992","common/runtime","common/vendor"]]]);