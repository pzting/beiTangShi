{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/STUDY/uniapp/beiTangShi/pages/index/index.vue?421b","webpack:///D:/STUDY/uniapp/beiTangShi/pages/index/index.vue?3a11","webpack:///D:/STUDY/uniapp/beiTangShi/pages/index/index.vue?6c1b","uni-app:///pages/index/index.vue","webpack:///D:/STUDY/uniapp/beiTangShi/pages/index/index.vue?3f9b","webpack:///D:/STUDY/uniapp/beiTangShi/pages/index/index.vue?d393"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","data","Data","DataPoemTemp","poemStr","time","difficulty","name","curNow","isTitle","isAuthor","isTitleHide","isAuthorHide","type","isOver","isSetWord","poem","arrEmpty","poemShuffle","poemWordCorrect","poemWordWrite","poemWordWriteCla","poemWordShuffle","poemWordShuffleCla","poemWordError","result","len","word","wordLen","focus","count","value","timeData","title","description","onLoad","console","onReady","setTimeout","me","onShow","arr","watch","methods","init","arrError","arrCla","shufflePoem","deepClone2DArray","shuffleWord","wordArr","shuffleArray","setArr","str","row","recall","setPoem","col","have","wordError","ind","resultArr","resultErrorArr","start","pause","reset","changeOne","onChange","onFinish","addResult","write","success","error","uni","all"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AACsM;AACtM,gBAAgB,sMAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,qUAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnDA;AAAA;AAAA;AAAA;AAAixB,CAAgB,4uBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACoFryB;AAIA;AAAA;AAAA,eAEA;EACAC;EAEAC;IACA;MACAC;MACA;MACAC;MACAC;MACAC;MACA;MACAC;QACAC;QACAF;QACAG;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAA;MACAJ;MACAC;MACAI;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;IACA;IACA;MAAA;IAAA;IACAC;IACAlC;IACAkC;IACA;EACA;EAEAC;IACA;IACAC;MACAC;IACA;EACA;EAEAC;IACA;IACA;IACA;MACA;IACA;IACA;IACA;;IAEA;IACA;IACA;MACA;MACAC;QAAA;MAAA;MACAvC;MACA;IACA;EACA;EAEAwC;IACA7B;MACA;QACA;MACA;IACA;EACA;EAEA8B;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,mBAKA;QAJAH;QACAxB;QACA4B;QACAC;MAGA;MACA;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;;MAEA;MACA;QACA;QACA;QACA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IAEAC;MACA;QACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACAC;MACAA;QAAA;MAAA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;QAAA,WACA;QAAAV;QAAAA;MACA;MACA;IACA;IAEA;IACAW;MACA;MACA;MACA;MACA;MACA;MACAC;MACA;MACA;MACA;MACA;QACAZ;QACAxB;QACA4B;QACAC;MACA;MACA;MACA;QACA;QACA;UACAL;UACAxB;UACA4B;UACAC;QACA;UACAQ;QACA;UACA3B;UACAA;UACAA;UACAA;QACA;MACA;MACA;QACAc;QACAxB;QACA4B;QACAC;MACA;IACA;IAEA;IACAS;MACA;QACA;MACA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;IAEA;IACAC;MACA;QACA;MACA;MACA;QACA;QACA;MACA;MACA;MACA;QAAA;MAAA;MACA;QACA;UACA;UACA;QACA;QACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MAEA;;MAGA;MACA;QACA;QACA;QACA;MACA;MACA;MACA;;MAEA;MACA;QACA;UACA;UACA;UACA;YACA;YACA;cACA;YACA;YACA;cACA;gBACApB;gBACAkB;gBACAG;gBACAC;gBACA;cACA;gBACAA;cACA;YACA;UACA;UACA;YACA;YACA;UACA;QACA;UACA;QACA;MACA;MAEA;QACA;QACA;UACA/B;UACAgC;UACAC;QACA;QACA;MACA;QACA;QACA;MACA;MACA;MACAC;QAAA;MAAA;QAAA;MAAA;MACA;MACAC;QAAA;MAAA;QAAA;MAAA;MACA,8CACA;QACAnC;QACAD;QACAiC;MAAA,EACA;MACA;QACAF;QACA;UACAA;QACA;MACA;MACA;QACAH;QACAG;MACA;MAGA;MACA;IACA;IAEA;IACAM;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;QACArC;MACA;MAEA;MACA;IACA;IAEA;IACAsC;MACA;MACA;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;QACAC;QACAC;QACAC;MACA;MAEA;QACA;QACAD;MACA;QACA;MAAA;MAEAD;MACAE;MACAC;QACAC;QACAJ;QACAC;QACAC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACxeA;AAAA;AAAA;AAAA;AAAg+C,CAAgB,u1CAAG,EAAC,C;;;;;;;;;;;ACAp/C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=57280228&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57280228\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=57280228&scoped=true&\"","var components\ntry {\n  components = {\n    uAlert: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-alert/u-alert\" */ \"@/uni_modules/uview-ui/components/u-alert/u-alert.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-button/u-button\" */ \"@/uni_modules/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uCountDown: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-count-down/u-count-down\" */ \"@/uni_modules/uview-ui/components/u-count-down/u-count-down.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.isTitle = true\n    }\n    _vm.e1 = function ($event) {\n      _vm.isAuthor = true\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"index\">\r\n    <!-- 提示 -->\r\n    <u-alert :description=\"description\" :title=\"title\" type=\"primary\"></u-alert>\r\n    <!-- <u-rate :count=\"count\" v-model=\"value\"></u-rate> -->\r\n    <!-- <u-code-input v-model=\"value\"></u-code-input> -->\r\n    <!-- 倒计时 -->\r\n    <view class=\"countDown\">\r\n      <view class=\"btns\">\r\n        <u-button v-if=\"type == 'over'\" :plain=\"true\" text=\"重来\" type=\"warning\" @click=\"reset\"></u-button>\r\n        <u-button v-if=\"type == 'pause'\" :plain=\"true\" size=\"normal\" text=\"开始\" type=\"primary\"\r\n                  @click=\"start\"></u-button>\r\n        <u-button v-if=\"type == 'start'\" :plain=\"true\" text=\"暂停\" type=\"error\" @click=\"pause\"></u-button>\r\n      </view>\r\n      <u-count-down ref=\"countDown\" :autoStart=\"false\" :time=\"difficulty.time\" format=\"mm:ss:SSS\" millisecond\r\n                    @change=\"onChange\" @finish=\"onFinish\">\r\n        <view class=\"time\">\r\n          <view class=\"seconds time__custom\">\r\n            <text class=\"time__custom__item\">{{ timeData.minutes }}</text>\r\n          </view>\r\n          <text class=\"time__doc\">:</text>\r\n          <view class=\"seconds time__custom\">\r\n            <text class=\"time__custom__item\">{{ timeData.seconds }}</text>\r\n          </view>\r\n          <text class=\"time__doc\">:</text>\r\n          <view class=\"milliseconds time__custom\">\r\n            <text class=\"time__custom__item\">{{ timeData.milliseconds }}</text>\r\n          </view>\r\n        </view>\r\n      </u-count-down>\r\n    </view>\r\n    <!-- 诗 -->\r\n    <view class=\"poemBox\">\r\n      <view v-if=\"isTitle\" :class=\"{hide:difficulty.isTitleHide}\" class=\"title\">{{ poem.title }}</view>\r\n      <view v-else class=\"title\" @tap=\"isTitle = true\">点击查看标题</view>\r\n      <view v-if=\"isAuthor\" :class=\"{hide:difficulty.isAuthorHide}\" class=\"author\">{{ poem.author }}</view>\r\n      <view v-else class=\"author\" @tap=\"isAuthor = true\">点击查看作者</view>\r\n      <view v-for=\"(item, row) in poemWordWrite\" class=\"item\">\r\n        <template v-for=\"(word, ind) in item\">\r\n          <view v-if=\"word === ',' || word === '，'\">{{ word }}</view>\r\n          <text v-else :class=\"{ focus: focus === `${row}-${ind}`, error: poemWordWriteCla[row][ind] }\"\r\n                @tap=\"recall(row, ind)\">\r\n            {{ word }}\r\n          </text>\r\n        </template>\r\n        。\r\n      </view>\r\n    </view>\r\n    <view v-if=\"type === 'over'\" class=\"result\">\r\n      <view v-if=\"result.len === 0\" class=\"success title\">成功</view>\r\n      <view v-else class=\"error title\">失败</view>\r\n      <view class=\"data\">\r\n        <view class=\"item\">总字数\r\n          <text class=\"all\">{{ result.wordLen }}</text>\r\n        </view>\r\n        <view class=\"item\">错误字数\r\n          <text class=\"error\">{{ result.len }}</text>\r\n        </view>\r\n      </view>\r\n      <view class=\"btns\">\r\n        <view class=\"btn\">\r\n          <u-button :plain=\"true\" text=\"重来\" type=\"warning\" @click=\"reset\"></u-button>\r\n        </view>\r\n        <view class=\"btn\">\r\n          <u-button :plain=\"true\" size=\"normal\" text=\"换一首\" type=\"success\" @click=\"changeOne\"></u-button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <!-- 底下文字 -->\r\n    <view v-if=\"type !== 'over'\" :class=\"{ overflowHide: type !== 'start' }\" class=\"wordBox\">\r\n      <view :class=\"{ hide: type === 'start' }\" class=\"mask\">\r\n        <u-button :plain=\"true\" text=\"开始\" type=\"primary\" @click=\"start\"></u-button>\r\n      </view>\r\n      <template v-for=\"(word, ind) in poemWordShuffle\">\r\n        <view :class=\"{ vanish: poemWordShuffleCla[ind] }\" class=\"word\"\r\n              @tap=\"setPoem(word, ind)\">\r\n          {{ word }}\r\n        </view>\r\n      </template>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  Data,\r\n  poemStr,\r\n  setPoemObj,\r\n} from './data.js';\r\n\r\nexport default {\r\n  components: {},\r\n\r\n  data() {\r\n    return {\r\n      Data,\r\n      // 临时存储，用于随机\r\n      DataPoemTemp: [],\r\n      poemStr,\r\n      time: 2 * 60 * 1000,\r\n      // time: 2 * 1000,\r\n      difficulty: {\r\n        name: '简单',\r\n        time: 3 * 60 * 1000,\r\n        curNow: 0,\r\n        isTitle: true,\r\n        isAuthor: true,\r\n        isTitleHide: false,\r\n        isAuthorHide: false,\r\n        type: 'simpleness',\r\n      },\r\n      type: 'pause',\r\n      isTitle: true,\r\n      isAuthor: true,\r\n      isOver: false,\r\n      isSetWord: false,\r\n      poem: {},\r\n      arrEmpty: [],\r\n      poemShuffle: [],\r\n      poemWordCorrect: [],\r\n      poemWordWrite: [],\r\n      poemWordWriteCla: [],\r\n      poemWordShuffle: [],\r\n      poemWordShuffleCla: [],\r\n      poemWordError: [],\r\n      result: {\r\n        len: '-',\r\n      },\r\n      word: '',\r\n      wordLen: 0,\r\n      focus: '0-0',\r\n      count: 5,\r\n      value: 2,\r\n      timeData: {},\r\n      title: '规则',\r\n      description: '规定时间内点击下面文字将唐诗补充完整',\r\n    };\r\n  },\r\n\r\n  onLoad() {\r\n    let poemList = uni.getStorageSync('poemList') || []\r\n    const poemArr = poemStr.map((item) => setPoemObj(item));\r\n    console.log('个数-', poemArr.length, Data.poem.length, '本地：', poemList.length)\r\n    Data.poem = [...Data.poem, ...poemList, ...poemArr];\r\n    console.log('总个数', Data.poem.length)\r\n    this.DataPoemTemp = [...Data.poem];\r\n  },\r\n\r\n  onReady() {\r\n    const me = this;\r\n    setTimeout(() => {\r\n      me.init();\r\n    }, 10);\r\n  },\r\n\r\n  onShow() {\r\n    // Data.poem = [...Data.poem, this.poemList]\r\n    let difficultyObj = uni.getStorageSync('difficulty')\r\n    if (difficultyObj) {\r\n      this.difficulty = {...difficultyObj}\r\n    }\r\n    this.isTitle = this.difficulty.isTitle\r\n    this.isAuthor = this.difficulty.isAuthor\r\n\r\n    //  从缓存拿诗\r\n    let poemList = uni.getStorageSync('poemList') || []\r\n    if (poemList) {\r\n      let arr = [...Data.poem, ...poemList];\r\n      arr = [...new Map(arr.map(obj => [obj.title, obj])).values()]\r\n      Data.poem = [...arr]\r\n      this.DataPoemTemp = [...Data.poem];\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    type(newValue, oldValue) {\r\n      if (newValue === 'over') {\r\n        this.addResult();\r\n      }\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    // 初始化\r\n    init() {\r\n      this.isTitle = this.difficulty.isTitle\r\n      this.isAuthor = this.difficulty.isAuthor\r\n      // 随机\r\n      const shuffle = this.shufflePoem();\r\n      this.poem = this.DataPoemTemp[shuffle];\r\n      this.DataPoemTemp.splice(shuffle, 1);\r\n      const poemWord = this.poem.poemWord;\r\n      const {\r\n        arr,\r\n        arrEmpty,\r\n        arrError,\r\n        arrCla,\r\n      } = this.setArr(poemWord);\r\n\r\n      this.arrEmpty = this.deepClone2DArray(arrEmpty);\r\n      this.poemWordCorrect = arr;\r\n      this.poemWordWrite = this.deepClone2DArray(arrEmpty);\r\n      this.poemWordError = arrError;\r\n      this.poemWordWriteCla = arrCla;\r\n      this.shuffleWord();\r\n    },\r\n\r\n    // 随机诗\r\n    shufflePoem() {\r\n      const shuffle = uni.$u.random(0, this.DataPoemTemp.length - 1);\r\n\r\n      // 随机数量相等\r\n      if (this.poemShuffle.length === Data.poem.length) {\r\n        this.poemShuffle = [];\r\n        // 随机完成，重新来过\r\n        this.DataPoemTemp = [...Data.poem];\r\n      }\r\n\r\n      // while (true) {\r\n      // \tif (this.poemShuffle.includes(shuffle)) {\r\n      // \t\tshuffle = uni.$u.random(0, Data.poem.length - 1)\r\n      // \t} else {\r\n      // \t\tbreak\r\n      // \t}\r\n      // }\r\n      this.poemShuffle.push(shuffle);\r\n      return shuffle;\r\n    },\r\n\r\n    deepClone2DArray(arr) {\r\n      return arr.map((subArray) => {\r\n        return [...subArray];\r\n      });\r\n    },\r\n\r\n    // 随机文字\r\n    shuffleWord() {\r\n      this.poemWordWrite = this.deepClone2DArray(this.arrEmpty);\r\n      this.focus = '0-0';\r\n      let wordArr = `${this.poemWordCorrect}`;\r\n      wordArr = wordArr.split(',');\r\n      wordArr = wordArr.filter((item) => item !== '，');\r\n      this.poemWordShuffle = this.shuffleArray(wordArr);\r\n      this.poemWordShuffleCla = new Array(this.poemWordShuffle.length).fill(false);\r\n    },\r\n\r\n    // 随机\r\n    shuffleArray(arr) {\r\n      for (let i = arr.length - 1; i > 0; i--) {\r\n        const j = Math.floor(Math.random() * (i + 1));\r\n        [arr[i], arr[j]] = [arr[j], arr[i]];\r\n      }\r\n      return arr;\r\n    },\r\n\r\n    // 格式化\r\n    setArr(str) {\r\n      const arr = [];\r\n      const arrEmpty = [];\r\n      const arrError = [];\r\n      const arrCla = [];\r\n      // 去除所以空白字符\r\n      str = str.replace(/\\s/g, '');\r\n      const len = str.match(/。/g).length;\r\n      this.result = {};\r\n      this.result.wordLen = str.match(/([^。，])/g).length;\r\n      for (let i = 0; i < len; i++) {\r\n        arr.push([]);\r\n        arrEmpty.push([]);\r\n        arrError.push([]);\r\n        arrCla.push([]);\r\n      }\r\n      let row = 0;\r\n      for (let i = 0; i < str.length; i++) {\r\n        const word = str[i];\r\n        if (word === '，' || word === ',') {\r\n          arr[row].push(word);\r\n          arrEmpty[row].push(word);\r\n          arrError[row].push('');\r\n          arrCla[row].push(false);\r\n        } else if (word === '。' || word === '.') {\r\n          row++;\r\n        } else {\r\n          word && arr[row].push(word);\r\n          word && arrEmpty[row].push('');\r\n          word && arrError[row].push('');\r\n          word && arrCla[row].push(false);\r\n        }\r\n      }\r\n      return {\r\n        arr,\r\n        arrEmpty,\r\n        arrError,\r\n        arrCla,\r\n      };\r\n    },\r\n\r\n    // 点击诗，撤回\r\n    recall(row, ind) {\r\n      if (this.isSetWord) {\r\n        return;\r\n      }\r\n      this.focus = `${row}-${ind}`;\r\n      if (this.poemWordWrite[row][ind]) {\r\n        // 清空当前点击诗的文字\r\n        const word = this.poemWordWrite[row][ind];\r\n        this.poemWordWrite[row][ind] = '';\r\n        // 将底部文字显示出来\r\n        const wordInd = this.poemWordShuffle.indexOf(word);\r\n        this.poemWordShuffleCla[wordInd] = false;\r\n      }\r\n    },\r\n\r\n    // 点击下面文字\r\n    setPoem(word, wordInd) {\r\n      if (this.poemWordShuffleCla[wordInd]) {\r\n        return;\r\n      }\r\n      if (this.isSetWord) {\r\n        this.isSetWord = true;\r\n        return;\r\n      }\r\n      // 点击最后一个字，暂停\r\n      const claLen = this.poemWordShuffleCla.filter((item) => !item);\r\n      if (claLen.length === 0) {\r\n        if (this.type !== 'over') {\r\n          this.pause();\r\n          this.type = 'over';\r\n        }\r\n        return;\r\n      }\r\n      const ind = this.focus.split('-');\r\n\r\n      let row = Number(ind[0]);\r\n      let col = Number(ind[1]);\r\n      const rowOld = row;\r\n      const colOld = col;\r\n      const len = this.poemWordCorrect[0].length;\r\n      let wordOld = this.poemWordWrite[rowOld][colOld]\r\n\r\n      this.isOver = false;\r\n\r\n\r\n      // 先判断当前是否有字，有字就还原\r\n      if (wordOld) {\r\n        // 将底部文字显示出来\r\n        const wordOldInd = this.poemWordShuffle.indexOf(wordOld);\r\n        this.poemWordShuffleCla[wordOldInd] = false;\r\n      }\r\n      this.poemWordShuffleCla[wordInd] = true;\r\n      this.poemWordWrite[rowOld][colOld] = word;\r\n\r\n      // 最后一行\r\n      if (row === this.poemWordCorrect.length - 1) {\r\n        if (col === len - 1) {\r\n          let have = false\r\n          // 多加一个判断吧，如果有没填写的就回到之前没填写的地方去，否则在结束\r\n          for (let r = 0; r < this.poemWordWrite.length; r++) {\r\n            let rData = this.poemWordWrite[r]\r\n            if (have) {\r\n              break\r\n            }\r\n            for (let i = 0; i < rData.length; i++) {\r\n              if (rData[i] === '') {\r\n                console.log(rData, r, i)\r\n                row = r - 1;\r\n                col = i;\r\n                have = true\r\n                break\r\n              } else {\r\n                have = false\r\n              }\r\n            }\r\n          }\r\n          if (have === false && this.type !== 'over') {\r\n            this.pause();\r\n            this.type = 'over';\r\n          }\r\n        } else if (col === len) {\r\n          return;\r\n        }\r\n      }\r\n\r\n      if (this.poemWordCorrect[rowOld][colOld] !== this.poemWordWrite[rowOld][colOld]) {\r\n        this.poemWordWriteCla[rowOld][colOld] = true;\r\n        this.poemWordError[rowOld][colOld] = ({\r\n          word: this.poemWordCorrect[rowOld][colOld],\r\n          wordError: word,\r\n          ind: this.focus,\r\n        });\r\n        // 错误\r\n      } else {\r\n        this.poemWordWriteCla[rowOld][colOld] = false;\r\n        this.poemWordError[rowOld][colOld] = ('');\r\n      }\r\n      let resultArr = this.poemWordError.flat(2);\r\n      resultArr = resultArr.filter((item) => item).map((item) => item.word);\r\n      let resultErrorArr = this.poemWordError.flat(2);\r\n      resultErrorArr = resultErrorArr.filter((item) => item).map((item) => item.wordError);\r\n      this.result = {\r\n        ...this.result,\r\n        word: resultArr,\r\n        len: resultErrorArr.length,\r\n        wordError: resultErrorArr,\r\n      };\r\n      if (col < len) {\r\n        col += 1;\r\n        if (this.poemWordCorrect[row][col] === ',' || this.poemWordCorrect[row][col] === '，') {\r\n          col += 1;\r\n        }\r\n      }\r\n      if (col === len && row < this.poemWordCorrect.length - 1) {\r\n        row += 1;\r\n        col = 0;\r\n      }\r\n\r\n\r\n      this.focus = `${row}-${col}`;\r\n      this.isSetWord = false;\r\n    },\r\n\r\n    // 开始\r\n    start() {\r\n      this.$refs.countDown.start();\r\n      this.type = 'start';\r\n    },\r\n\r\n    // 暂停\r\n    pause() {\r\n      this.$refs.countDown.pause();\r\n      this.type = 'pause';\r\n    },\r\n\r\n    // 重置\r\n    reset() {\r\n      this.$refs.countDown.reset();\r\n      this.result = {\r\n        wordLen: this.result.wordLen,\r\n      };\r\n\r\n      this.start();\r\n      this.shuffleWord();\r\n    },\r\n\r\n    // 换一首\r\n    changeOne() {\r\n      this.$refs.countDown.reset();\r\n      this.init();\r\n      this.start();\r\n    },\r\n\r\n    onChange(e) {\r\n      this.timeData = e;\r\n    },\r\n\r\n    onFinish() {\r\n      this.type = 'over';\r\n    },\r\n\r\n    // 最终结果统计\r\n    addResult() {\r\n      const dataResult = uni.getStorageSync('dataResult');\r\n      const all = Data.poem.length;\r\n      let write = 0;\r\n      let success = 0;\r\n      let error = 0;\r\n      if (dataResult) {\r\n        write = Number(dataResult.write);\r\n        success = Number(dataResult.success);\r\n        error = Number(dataResult.error);\r\n      }\r\n\r\n      if (this.result.len === 0) {\r\n        // 成功\r\n        success += 1;\r\n      } else {\r\n        // error += 1\r\n      }\r\n      write += 1;\r\n      error = write - success;\r\n      uni.setStorageSync('dataResult', {\r\n        all,\r\n        write,\r\n        success,\r\n        error,\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n/* 请根据实际需求修改父元素尺寸，组件自动识别宽高 */\r\n\r\n/* \t.index ::v-deep .u-popup {\r\n  position: relative !important;\r\n  z-index: 100000000 !important;\r\n} */\r\n\r\n\r\n.index {\r\n\r\n  box-sizing: border-box;\r\n  margin: 20rpx;\r\n\r\n  .poemBox {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    max-height: 500rpx;\r\n    overflow-y: auto;\r\n\r\n    .title {\r\n      // text-align: center;\r\n      font-size: 24px;\r\n      margin-top: 5rpx;\r\n      margin-bottom: 20rpx;\r\n      color: $poemTitle;\r\n\r\n      filter: none;\r\n\r\n      &.hide {\r\n        filter: blur(5px);\r\n      }\r\n    }\r\n\r\n    .author {\r\n      // text-align: center;\r\n      font-size: 16px;\r\n      margin-bottom: 20rpx;\r\n      color: $poemAuthor;\r\n      filter: none;\r\n\r\n      &.hide {\r\n        filter: blur(5px);\r\n      }\r\n    }\r\n\r\n    .item {\r\n      display: flex;\r\n      font-size: 16px;\r\n      margin-bottom: 40rpx;\r\n      color: $poemItem;\r\n\r\n      text {\r\n        padding: 5rpx 5rpx;\r\n        border-radius: 10rpx;\r\n        width: 32rpx;\r\n        height: 40rpx;\r\n        margin-left: 2rpx;\r\n        // background-color: $poemWord-bg;\r\n        border: 1px solid transparent;\r\n        border-bottom: 1px solid $poemWord-border;\r\n\r\n        &.focus {\r\n          animation: flicker 1000ms infinite;\r\n        }\r\n\r\n        &.error {\r\n          color: darkred;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .countDown {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-top: 10rpx;\r\n\r\n    .time {\r\n      display: flex;\r\n      font-size: 30px;\r\n      align-items: center;\r\n      justify-content: center;\r\n      color: #555;\r\n\r\n      &__custom {\r\n        // text-align: right;\r\n\r\n        &__item {\r\n        }\r\n\r\n        &.seconds {\r\n          // width: 70rpx;\r\n        }\r\n\r\n        &.milliseconds {\r\n          // width: 110rpx;\r\n        }\r\n      }\r\n\r\n      &__doc {\r\n        color: $u-primary;\r\n        padding: 4px 4px;\r\n      }\r\n\r\n    }\r\n\r\n    .btns {\r\n      display: flex;\r\n      margin-right: 60rpx;\r\n    }\r\n\r\n    .timeText {\r\n      margin-right: 20rpx;\r\n    }\r\n  }\r\n\r\n  .result {\r\n    .title {\r\n      font-size: 28px;\r\n      text-align: center;\r\n      border-radius: 20rpx;\r\n      box-shadow: #555 0px 2px 6px 0px;\r\n      margin-bottom: 20rpx;\r\n      padding: 10rpx;\r\n\r\n      &.success {\r\n        color: #5ac725;\r\n        background-color: #f5fff0;\r\n      }\r\n\r\n      &.error {\r\n        color: #dc2d00;\r\n        background-color: #fef0f0;\r\n      }\r\n    }\r\n\r\n    .data {\r\n      display: flex;\r\n      font-size: 16px;\r\n      text-align: center;\r\n      border-radius: 20rpx;\r\n      background: #fff;\r\n      box-shadow: #d8d3d3 0px 2px 3px 0px;\r\n      margin-bottom: 60rpx;\r\n      padding: 10rpx;\r\n\r\n      .item {\r\n        margin: 0 20rpx;\r\n\r\n        text {\r\n          font-size: 20px;\r\n          margin: 0 10rpx;\r\n\r\n          &.all {\r\n          }\r\n\r\n          &.error {\r\n            color: #dc2d00;\r\n          }\r\n        }\r\n\r\n\r\n      }\r\n    }\r\n\r\n    .btns {\r\n      display: flex;\r\n      justify-content: space-around;\r\n\r\n      .btn {\r\n        width: 250rpx;\r\n      }\r\n    }\r\n  }\r\n\r\n  @keyframes flicker {\r\n    0% {\r\n      border: 1px solid $poemItemWordFocus;\r\n    }\r\n\r\n    100% {\r\n      border: 1px solid transparent;\r\n      border-bottom: 1px solid $poemWord-border;\r\n    }\r\n  }\r\n\r\n  @keyframes vanish {\r\n    50% {\r\n      transform: rotate(180deg) scale(0.5);\r\n    }\r\n\r\n    100% {\r\n      transform: rotate(360deg) scale(0);\r\n    }\r\n  }\r\n\r\n  @keyframes maskHide {\r\n    50% {\r\n      top: 50%;\r\n    }\r\n\r\n    100% {\r\n      top: 1500%;\r\n\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  .wordBox {\r\n    display: flex;\r\n    position: fixed;\r\n    bottom: 0px;\r\n    margin-bottom: 20rpx;\r\n    flex-wrap: wrap;\r\n    max-height: 450rpx;\r\n    overflow-y: auto;\r\n    /*  #ifdef   WEB */\r\n    margin-bottom: 60px;\r\n    /*  #endif  */\r\n    &.overflowHide {\r\n      overflow: hidden;\r\n    }\r\n\r\n    .mask {\r\n      position: absolute;\r\n      left: 0;\r\n      right: 20rpx;\r\n      bottom: 0;\r\n      height: 100%;\r\n      border-radius: 20rpx;\r\n      background-color: $mask-bg;\r\n      display: flex;\r\n      align-items: center;\r\n      transition: all 300ms;\r\n      overflow: hidden;\r\n\r\n      backdrop-filter: blur(3px);\r\n\r\n      &.hide {\r\n        // animation: maskHide 500ms ease 1 forwards;\r\n        height: 0;\r\n      }\r\n    }\r\n\r\n    .word {\r\n      font-size: 40rpx;\r\n      padding: 10rpx 15rpx;\r\n      margin: 10rpx;\r\n      margin-bottom: 10rpx;\r\n      border-radius: 10rpx;\r\n      background-color: $poemWord-bg;\r\n      // border: 1px solid $poemWord-border;\r\n      box-shadow: #9398a7 0px 2px 2px 0px;\r\n\r\n      &.vanish {\r\n        animation: vanish 400ms ease 1 forwards;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=57280228&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=57280228&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1725525140433\n      var cssReload = require(\"D:/搜狗高速下载/HBuilderX.3.2.9.20210927/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}