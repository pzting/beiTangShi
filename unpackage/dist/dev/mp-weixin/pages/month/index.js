(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/month/index"],{187:function(e,t,n){"use strict";(function(e,t){var a=n(4);n(26);a(n(25));var r=a(n(188));e.__webpack_require_UNI_MP_PLUGIN__=n,t(r.default)}).call(this,n(1)["default"],n(2)["createPage"])},188:function(e,t,n){"use strict";n.r(t);var a=n(189),r=n(191);for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n(193);var i,s=n(32),c=Object(s["default"])(r["default"],a["render"],a["staticRenderFns"],!1,null,"d81991cc",null,!1,a["components"],i);c.options.__file="pages/month/index.vue",t["default"]=c.exports},189:function(e,t,n){"use strict";n.r(t);var a=n(190);n.d(t,"render",(function(){return a["render"]})),n.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return a["recyclableRender"]})),n.d(t,"components",(function(){return a["components"]}))},190:function(e,t,n){"use strict";var a;n.r(t),n.d(t,"render",(function(){return r})),n.d(t,"staticRenderFns",(function(){return i})),n.d(t,"recyclableRender",(function(){return o})),n.d(t,"components",(function(){return a}));try{a={uTabs:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-tabs/u-tabs")]).then(n.bind(null,195))},qiunDataCharts:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/qiun-data-charts/components/qiun-data-charts/qiun-data-charts")]).then(n.bind(null,203))},uDatetimePicker:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-datetime-picker/u-datetime-picker")]).then(n.bind(null,221))}}}catch(s){if(-1===s.message.indexOf("Cannot find module")||-1===s.message.indexOf(".vue"))throw s;console.error(s.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var r=function(){var e=this,t=e.$createElement,a=(e._self._c,e.phone?e.$u.timeFormat(e.searchDate,"yyyy年mm月dd日"):null),r=e.phone?n(165):null,o=e.phone?e.__map(e.wholeData[e.wholeDataVal],(function(t,n){var a=e.__get_orig(t),r=e.__map(t.rateList,(function(t,n){var a=e.__get_orig(t),r=Number(t.rate),o=t.name.search(/[差值价]/);return{$orig:a,m1:r,g1:o}})),o=t.histogramData.series?t.histogramData.series.length:null,i=t.histogramData.series?Object.assign({},e.optsCustomList,{color:e.colorObj[t.histogramData.series.length]}):null;return{$orig:a,l0:r,g2:o,a0:i}})):null,i=e.phone?e.__map(e.onScreenData[e.onScreenDataVal],(function(t,n){var a=e.__get_orig(t),r=e.__map(t.rateList,(function(t,n){var a=e.__get_orig(t),r=Number(t.rate),o=t.name.search(/[差值价]/);return{$orig:a,m2:r,g3:o}})),o=t.histogramData.series?t.histogramData.series.length:null,i=t.histogramData.series?Object.assign({},e.optsCustomList,{color:e.colorObj[t.histogramData.series.length]}):null;return{$orig:a,l2:r,g4:o,a1:i}})):null,s=e.phone?e.__map(e.offScreenData[e.offScreenDataVal],(function(t,n){var a=e.__get_orig(t),r=e.__map(t.rateList,(function(t,n){var a=e.__get_orig(t),r=Number(t.rate),o=t.name.search(/[差值价]/);return{$orig:a,m3:r,g5:o}})),o=t.histogramData.series?t.histogramData.series.length:null,i=t.histogramData.series?Object.assign({},e.optsCustomList,{color:e.colorObj[t.histogramData.series.length]}):null;return{$orig:a,l4:r,g6:o,a2:i}})):null,c=e.phone?e.__map(e.verticalScreenData[e.verticalScreenDataVal],(function(t,n){var a=e.__get_orig(t),r=e.__map(t.rateList,(function(t,n){var a=e.__get_orig(t),r=Number(t.rate),o=t.name.search(/[差值价]/);return{$orig:a,m4:r,g7:o}})),o=t.histogramData.series?t.histogramData.series.length:null,i=t.histogramData.series?Object.assign({},e.optsCustomList,{color:e.colorObj[t.histogramData.series.length]}):null;return{$orig:a,l6:r,g8:o,a3:i}})):null,l=e.phone?e.__map(e.productWholeList[e.productWholeListIdx].wholeList,(function(t,n){var a=e.__get_orig(t),r=e.__map(t.rateList,(function(t,n){var a=e.__get_orig(t),r=Number(t.rate),o=t.name.search(/[差值价]/);return{$orig:a,m5:r,g9:o}})),o=t.histogramData.series?t.histogramData.series.length:null,i=t.histogramData.series?Object.assign({},e.optsCustomList,{color:e.colorObj[t.histogramData.series.length]}):null;return{$orig:a,l8:r,g10:o,a4:i}})):null;e._isMounted||(e.e0=function(t){e.showDate=!0},e.e1=function(t){e.showDate=!1},e.e2=function(t){e.showDate=!1},e.e3=function(t){e.showDate=!1}),e.$mp.data=Object.assign({},{$root:{g0:a,m0:r,l1:o,l3:i,l5:s,l7:c,l9:l}})},o=!1,i=[];r._withStripped=!0},191:function(e,t,n){"use strict";n.r(t);var a=n(192),r=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=r.a},192:function(e,t,n){"use strict";(function(e){var a=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(56)),o=a(n(18)),i=a(n(58)),s=n(168),c=(n(160),function(){Promise.all([n.e("common/vendor"),n.e("components/wyb-table/wyb-table")]).then(function(){return resolve(n(230))}.bind(null,n)).catch(n.oe)}),l={components:{wybTable:c},data:function(){return{loginData:{},phone:e.getStorageSync("phone")||null,searchDate:Number(new Date),showDate:!1,listObj:{3:[{title:"整体数据",value:"wholeList"},{title:"新增数据",value:"incrList"},{title:"存量数据",value:"stockList"}],4:[{title:"收入整体数据",value:"incomeList"},{title:"新增数据",value:"incrList"},{title:"订购量数据",value:"orderList"},{title:"存量数据",value:"stockList"}]},colorObj:{3:["#2c58a7","#6f93ce","#87abca"],4:["#ee7c0e","#eda820","#3b9bb4","#99e2f0"],5:["#2c58a7","#ee7c0e","#eda820","#3b9bb4","#99e2f0"]},optsCustomList:{color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],padding:[0,70,0,0],enableScroll:!1,duration:100,fontSize:12,legend:{fontSize:10,lineHeight:16,itemGap:6,padding:2,margin:2},xAxis:{min:0,boundaryGap:"justify",disableGrid:!0,disabled:!0,axisLine:!1},yAxis:{disabled:!0,disableGrid:!0},extra:{bar:{type:"group",width:6,meterBorde:1,meterFillColor:"#FFFFFF",activeBgColor:"#000000",activeBgOpacity:.08,linearType:"opacity",linearOpacity:.8,barBorderCircle:!0,seriesGap:6,categoryGap:2}}},briefingDayDate:{},dayIncrList:[{dayRate:0,histogramData:{}}],dayIncrListInd:0,wholeData:{incrList:[],stockList:[],wholeList:[]},wholeDataVal:"wholeList",onScreenData:{incrList:[],stockList:[],wholeList:[]},onScreenDataVal:"wholeList",offScreenData:{incrList:[],stockList:[],wholeList:[]},offScreenDataVal:"wholeList",verticalScreenData:{incrList:[],stockList:[],orderList:[],incomeList:[]},verticalScreenDataVal:"incomeList",productWholeList:[{wholeList:[]}],productWholeListIdx:0}},onReady:function(){this.phone||this.toLogin()},onShow:function(){this.phone&&this.briefingDay(this.searchDate)},watch:{searchDate:function(e,t){this.briefingDay(e)}},methods:{briefingDay:function(t){var n=this;return(0,i.default)(r.default.mark((function a(){var o,i;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=e.$u.timeFormat(t,"yyyy-mm-dd"),a.next=3,(0,s.briefingMonthApi)({date:o});case 3:i=a.sent,n.wholeData=i.obj.wholeData,n.onScreenData=i.obj.onScreenData,n.offScreenData=i.obj.offScreenData,n.verticalScreenData=i.obj.verticalScreenData,n.productWholeList=i.obj.productWholeList;case 9:case"end":return a.stop()}}),a)})))()},toLogin:function(){var t=this;return(0,i.default)(r.default.mark((function n(){var a,o;return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(t,n){e.login({provider:"weixin",success:function(){var e=(0,i.default)(r.default.mark((function e(n){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("微信登录成功",n),t(n);case 2:case"end":return e.stop()}}),e)})));function n(t){return e.apply(this,arguments)}return n}()})}));case 2:return a=n.sent,n.next=5,(0,s.loginApi)({code:a.code});case 5:if(o=n.sent,t.loginData=o,console.log("loginApi：",o),!o.phone||!o.auth){n.next=15;break}return t.briefingDay(t.searchDate),t.phone=o.phone,n.next=13,e.setStorageSync("phone",o.phone);case 13:n.next=20;break;case 15:if(o.auth){n.next=20;break}return e.showModal({title:"提示",content:"手机号不在白名单，请联系管理员添加~",showCancel:!1}),t.phone=null,n.next=20,e.setStorageSync("phone","");case 20:return n.next=22,e.setStorageSync("openid",o.openid);case 22:case"end":return n.stop()}}),n)})))()},onGetPhoneNumber:function(t){var n=this;return(0,i.default)(r.default.mark((function a(){var o,i;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("getPhoneNumber:ok"===t.detail.errMsg){a.next=2;break}return a.abrupt("return");case 2:return console.log("onGetPhoneNumber",t.detail),a.next=5,e.getStorageSync("openid");case 5:return o=a.sent,a.next=8,(0,s.phoneApi)({encryptedData:t.detail.encryptedData,iv:t.detail.iv,openid:o});case 8:if(i=a.sent,console.log("phoneApi：",i),!i.phone||!i.auth){a.next=17;break}return n.briefingDay(n.searchDate),n.phone=i.phone,a.next=15,e.setStorageSync("phone",i.phone);case 15:a.next=22;break;case 17:if(i.auth){a.next=22;break}return e.showModal({title:"提示",content:"手机号不在白名单，请联系管理员添加~",showCancel:!1}),n.phone=null,a.next=22,e.setStorageSync("phone","");case 22:return a.next=24,e.setStorageSync("token",i.token);case 24:case"end":return a.stop()}}),a)})))()},clickDayIncrList:function(e){this.dayIncrListInd=e.index,this.monthReachList[0]={rateList:[{name:"订购量111"+e.index,rate:.25+e.index}],histogramData:{categories:[""],series:[{name:"日新增1",data:[30+e.index]},{name:"日新增2",data:[-8+e.index]},{name:"日新增3",data:[20]}]}}},clickTabsWholeData:function(e){console.log(e,"item"),this.wholeDataVal=e.value},clickTabsOnScreenData:function(e){console.log(e,"item"),this.onScreenDataVal=e.value},clickTabsOffScreenData:function(e){console.log(e,"item"),this.offScreenDataVal=e.value},clickTabsVerticalScreenData:function(e){console.log(e,"item"),this.verticalScreenDataVal=e.value},clickTabsProductWholeList:function(e){console.log(e,"item"),this.productWholeListIdx=e.index},clickProductIncrList:function(e){this.productIncrListInd=e.index;var t=e.histogramData.series[0].data,n=Math.min.apply(Math,(0,o.default)(t));console.log("item.histogramData",e.histogramData.series[0].data,n),this.optsProductIncrList.yAxis.data[0]={min:n>0?0:n-Math.pow(10,n.toString().length-2)}}}};t.default=l}).call(this,n(2)["default"])},193:function(e,t,n){"use strict";n.r(t);var a=n(194),r=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=r.a},194:function(e,t,n){}},[[187,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/month/index.js.map